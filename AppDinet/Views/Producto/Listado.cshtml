@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
        crossorigin="anonymous"></script>

<h!>Listado de productos</h>
<hr />

<button id="btnAgregar" class="btn btn-primary" >Agregar producto</button>

<br />


<div>
    <table class="table-bordered">
        <thead>
            <tr>
                <th>IdProducto</th>
                <th>Nombre Producto</th>
                <th>Stock</th>
                <th>Precio</th>
            </tr>
        </thead>
            
        <tbody id="tbProducto">

        </tbody>
    </table>


</div>

<script type="text/javascript">

    $(document).ready(function () {
        listado();
    });

    function listado(){

        $.ajax({
            url: '/Producto/ListarProductos',
            type: 'POST',
            dataType: "json",
            success: function (data){
                debugger;
                $.each(data, function (key, item) {
                    debugger;
                    var contenido = "";
                    contenido += "<tr>";
                    contenido += "<td>" + item.idProducto + '</td>';
                    contenido += "<td>" + item.nombreProducto + '</td>';
                    contenido += "<td>" + item.stock + '</td>';
                    contenido += "<td>" + item.precio + '</td>';
                    contenido += '</tr>';

                    $('#tbProducto').append(contenido);
                });
            }
        });

    }

</script>


